(function(e){function t(t){for(var n,i,s=t[0],c=t[1],u=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),r()}function r(){for(var e,t=0;t<o.length;t++){for(var r=o[t],n=!0,s=1;s<r.length;s++){var c=r[s];0!==a[c]&&(n=!1)}n&&(o.splice(t--,1),e=i(i.s=r[0]))}return e}var n={},a={app:0},o=[];function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(r,n,function(t){return e[t]}.bind(null,n));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"244c":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),a=(r("b0c0"),Object(n["I"])("data-v-6593326a"));Object(n["q"])("data-v-6593326a");var o={class:"p-grid"},i={class:"p-col-12"},s={class:"card"},c={key:0},u=Object(n["j"])(" Não há usuários a serem exibidos. ");Object(n["p"])();var l=a((function(e,t,r,l,d,p){var b=Object(n["v"])("Button"),f=Object(n["v"])("Toolbar"),m=Object(n["v"])("Column"),v=Object(n["v"])("DataTable"),O=Object(n["v"])("UserDialog"),j=Object(n["w"])("tooltip");return Object(n["o"])(),Object(n["g"])("div",o,[Object(n["k"])("div",i,[Object(n["k"])("div",s,[Object(n["k"])("h5",null,Object(n["y"])(l.title),1),Object(n["k"])(f,{class:"p-mb-4"},{left:a((function(){return[Object(n["k"])(b,{label:"Exportar",icon:"pi pi-file-excel",class:"p-button-secondary",onClick:t[1]||(t[1]=function(e){return l.exportCSV()})})]})),right:a((function(){return[Object(n["k"])(b,{label:"Adicionar",icon:"pi pi-plus",class:"p-button-success p-mr-2",onClick:t[2]||(t[2]=function(e){return l.showUserDialog({showAsEdition:!1})})})]})),_:1}),Object(n["k"])("div",null,[Object(n["k"])(v,{value:l.user.usersListToView,paginator:!0,rows:10,ref:"dt",dataKey:"id",rowClass:l.rowClass,rowHover:!0,selection:l.selectedUser,"onUpdate:selection":t[4]||(t[4]=function(e){return l.selectedUser=e}),filterDisplay:"menu",selectionMode:"single",loading:l.isLoading,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[10,25,50],currentPageReportTemplate:"Apresentando de {first} à {last} de {totalRecords}",responsiveLayout:"scroll",globalFilterFields:["NAME","DESCRIPTION"],filters:l.listFilter,paginatorPosition:"bottom",stripedRows:"",exportFilename:"UsersList"},{empty:a((function(){return[u]})),default:a((function(){return[Object(n["k"])(m,{field:"name",header:"Nome",sortable:!0,style:{"min-width":"10rem",width:"220px"}}),Object(n["k"])(m,{field:"telefone",header:"telefone",sortable:!0,style:{"min-width":"10rem",width:"220px"}}),Object(n["k"])(m,{exportable:!1,style:{"min-width":"2rem",width:"190px"}},{body:a((function(e){var r=e.data;return[l.selectedUser&&l.selectedUser.name==r.name?(Object(n["o"])(),Object(n["g"])("div",c,[Object(n["F"])(Object(n["k"])(b,{icon:"pi pi-pencil",class:"p-button-rounded p-button-outlined p-button-primary p-mr-2",onClick:t[3]||(t[3]=function(e){return l.showUserDialog({showAsEdition:!0})})},null,512),[[j,"Editar "+r.name,void 0,{top:!0}]]),Object(n["F"])(Object(n["k"])(b,{icon:"pi pi-trash",class:"p-button-rounded p-button-danger",onClick:function(e){return l.confirmDeleteUser({ID:r.id,NAME:r.name})}},null,8,["onClick"]),[[j,"Excluir "+r.name,void 0,{top:!0}]])])):Object(n["h"])("",!0)]})),_:1})]})),_:1},8,["value","rowClass","selection","loading","filters"])])])]),l.displayUserDialog?(Object(n["o"])(),Object(n["g"])(O,{key:0,isEdit:l.isEdit,userToEdit:l.getUserToEdit(),displayUserDialog:l.displayUserDialog,usersList:l.user.usersList,onCloseUserDialog:t[5]||(t[5]=function(e){return l.closeUserDialog(e)})},null,8,["isEdit","userToEdit","displayUserDialog","usersList"])):Object(n["h"])("",!0)])})),d=r("1da1"),p=(r("96cf"),r("d81d"),{class:"p-grid"}),b={class:"p-col-20"},f={class:"p-form-grid"},m={class:"p-field p-col-4"},v=Object(n["k"])("label",{for:"name"},"Nome",-1),O={class:"p-form-grid"},j={class:"p-field p-col-4"},g=Object(n["k"])("label",{for:"cpf"},"CPF",-1),h={class:"p-form-grid"},k={class:"p-field p-col-10"},w=Object(n["k"])("label",{for:"email"},"Email",-1),y={class:"p-form-grid"},x={class:"p-field p-col-5"},D=Object(n["k"])("label",{for:"telefone"},"Telefone",-1);function U(e,t,r,a,o,i){var s=Object(n["v"])("InputText"),c=Object(n["v"])("Button"),u=Object(n["v"])("Dialog");return Object(n["o"])(),Object(n["g"])("div",p,[Object(n["k"])("div",b,[Object(n["k"])("form",null,[Object(n["k"])(u,{header:a.title,visible:r.displayUserDialog,closeOnEscape:!1,modal:!0,closable:!1,breakpoints:{"960px":"75vw"},style:{width:"50vw"},class:"p-fluid"},{footer:Object(n["E"])((function(){return[Object(n["k"])(c,{label:"Cancelar",icon:"pi pi-times",class:"p-button-text",onClick:t[5]||(t[5]=Object(n["H"])((function(e){return a.closeCopyDialog(!1)}),["prevent"]))}),Object(n["k"])(c,{label:"Salvar",icon:"pi pi-save",autofocus:"",onClick:t[6]||(t[6]=Object(n["H"])((function(e){return a.saveUser()}),["prevent"]))})]})),default:Object(n["E"])((function(){return[Object(n["k"])("div",f,[Object(n["k"])("div",m,[v,Object(n["k"])(s,{id:"name",modelValue:a.userData.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.userData.name=e})},null,8,["modelValue"])])]),Object(n["k"])("div",O,[Object(n["k"])("div",j,[g,Object(n["k"])(s,{id:"cpf",modelValue:a.userData.cpf,"onUpdate:modelValue":t[2]||(t[2]=function(e){return a.userData.cpf=e})},null,8,["modelValue"])])]),Object(n["k"])("div",h,[Object(n["k"])("div",k,[w,Object(n["k"])(s,{id:"email",modelValue:a.userData.email,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.userData.email=e})},null,8,["modelValue"])])]),Object(n["k"])("div",y,[Object(n["k"])("div",x,[D,Object(n["k"])(s,{id:"telefone",modelValue:a.userData.telefone,"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.userData.telefone=e})},null,8,["modelValue"])])])]})),_:1},8,["header","visible"])])])])}var T=r("5530"),C=r("18cb"),E={name:"",cpf:"",email:"",telefone:""},R=r("bc3a"),L=r.n(R),S={name:"UserDialog",props:{isEdit:{type:Boolean,required:!0},userToEdit:{type:Object,required:!1},displayUserDialog:{type:Boolean,required:!0},usersList:{type:Object,required:!0}},setup:function(e,t){var r,a,o=t.emit,i=Object(n["A"])(e),s=i.isEdit;s.value?(a=Object(T["a"])({},Object(n["B"])(e.userToEdit)),r=Object(n["s"])("Edição de usuário")):(a=Object(n["r"])(JSON.parse(JSON.stringify(E))),r=Object(n["s"])("Adição de usuário"));var c=Object(C["b"])(),u=function(e){o("close-user-dialog",e)},l=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=s.value?"put":"post",n="put"==r?"https://qualicorp-teste-backend.herokuapp.com/user/".concat(t._id):"https://qualicorp-teste-backend.herokuapp.com/user",e.next=5,L()({method:r,url:n,data:t});case 5:return a=e.sent,console.log(a),e.abrupt("return",a);case 10:return e.prev=10,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,n,o,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={summary:r.value,life:3500},e.next=3,l(a);case 3:n=e.sent,o=n.data,"success"===o.message?(t.severity="success",s.value?t.detail="Usuário '".concat(a.name,"' editado com sucesso."):t.detail="Usuário '".concat(a.name,"' criado com sucesso."),i=!0):(t.severity="error",s.value?t.detail="Ocorreu um erro durante a tentativa de edição do Uusário '".concat(a.name,"'."):t.detail="Ocorreu um erro durante a tentativa de adição da Rede '".concat(a.name,"'."),i=!1),console.log(t),c.add(t),u(i);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{userData:a,title:r,closeCopyDialog:u,saveUser:p}}};S.render=U;var P=S,A=(r("7db0"),r("0393")),V=r("d725");function N(){var e=Object(V["b"])(),t=Object(C["b"])(),r=Object(n["s"])(),a=Object(n["r"])({usersListToView:[],usersList:[]}),o=Object(n["s"])(),i=Object(n["s"])({global:{value:null,matchMode:A["a"].CONTAINS},name:{operator:A["b"].AND,constraints:[{value:null,matchMode:A["a"].STARTS_WITH}]},telefone:{operator:A["b"].AND,constraints:[{value:null,matchMode:A["a"].STARTS_WITH}]}}),s=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t="https://qualicorp-teste-backend.herokuapp.com/users",e.next=4,L.a.get(t);case 4:r=e.sent,n=r.data,n.data.users.length>0?a.usersList=n.data.users:a.usersList=[],e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log(e.t0),a.usersList=[];case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),r="https://qualicorp-teste-backend.herokuapp.com/user/".concat(t),e.next=5,L.a.delete(r);case 5:if(n=e.sent,a=n.message,"usuário deletado"!=a){e.next=9;break}return e.abrupt("return",a);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e["catch"](0),console.log(e.t0),e.abrupt("return","Erro ao deletar usuário");case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e;return null!==r&&void 0!==r&&null!==(e=r.value)&&void 0!==e&&e.name?a.usersList.find((function(e){return e.name===r.value.name})):{}},l=function(){var r=Object(d["a"])(regeneratorRuntime.mark((function r(n){var a,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:a=n.ID,o=n.NAME,e.require({message:"Tem certeza de que deseja remover o usuário '".concat(o,"'?"),header:"Removendo usuário...",icon:"pi pi-exclamation-triangle",accept:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){var r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log({ID:a}),e.next=3,c({ID:a});case 3:return r=e.sent,n=r.message,i={summary:"Confirmação de exclusão.",life:3500},"usuário deletado"==n?(i.severity="info",i.detail="Usuário '".concat(o,"' removido com sucesso.")):(i.severity="error",i.detail="Ocorreu um erro durante a tentativa de exclusão do usuário '".concat(o,"'!")),t.add(i),e.next=10,s();case 10:case"end":return e.stop()}}),e)})));function r(){return e.apply(this,arguments)}return r}(),reject:function(){}});case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),p=function(){o.value.exportCSV()},b=function(e){var t;return(null===e||void 0===e?void 0:e.name)===(null===(t=r.value)||void 0===t?void 0:t.name)?"row-selected":null},f=function(){i.value={global:{value:null,matchMode:A["a"].CONTAINS},name:{operator:A["b"].AND,constraints:[{value:null,matchMode:A["a"].STARTS_WITH}]},telefone:{operator:A["b"].AND,constraints:[{value:null,matchMode:A["a"].STARTS_WITH}]}}};return{user:a,selectedUser:r,getUserList:s,getUserToEdit:u,confirmDeleteUser:l,dt:o,listFilter:i,exportCSV:p,rowClass:b,initFilters:f}}var I={components:{UserDialog:P},setup:function(){var e=Object(n["s"])("Listagem de usuários cadastrados na Qualicorp"),t=Object(n["s"])(!0),r=Object(n["s"])(!1),a=Object(n["s"])(!1),o=N(),i=o.user,s=o.selectedUser,c=o.getUserList,u=o.getUserToEdit,l=o.confirmDeleteUser,p=o.dt,b=o.listFilter,f=o.exportCSV,m=o.rowClass;i.usersListToView=Object(n["e"])((function(){return i.usersList.map((function(e){return{id:e._id,name:e.name,telefone:e.telefone}}))}));var v=function(e){var t=e.showAsEdition;r.value=1==t,a.value=!0},O=function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,c();case 3:r.value=!1,a.value=!1;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n["n"])(Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.value=!0,e.next=3,c();case 3:t.value=!1,a.value=!1;case 5:case"end":return e.stop()}}),e)})))),{user:i,selectedUser:s,getUserList:c,getUserToEdit:u,confirmDeleteUser:l,showUserDialog:v,closeUserDialog:O,dt:p,listFilter:b,displayUserDialog:a,title:e,isLoading:t,isEdit:r,exportCSV:f,rowClass:m}}};r("f090");I.render=l,I.__scopeId="data-v-6593326a";var _=I,M=r("9319"),F=r("bb57"),q=r("6f85"),H=r("9383"),B=r("9421"),J=r("b24b"),W=r("5b2c"),z=r("5bd2"),K=r("743f"),Q=r("6185"),G=r("3822"),X=r("8398"),Y=r("a469"),Z=r("b3b6"),$=r("485c"),ee=r("bdc0"),te=r("6b8c"),re=(r("098b"),r("e1ae"),r("4121"),Object(n["f"])(_));re.use(M["a"]),re.use(J["a"]),re.use($["a"]),re.directive("tooltip",te["a"]),re.component("Button",F["a"]),re.component("Column",q["a"]),re.component("ConfirmDialog",H["a"]),re.component("ConfirmPopup",B["a"]),re.component("DataTable",W["a"]),re.component("Dialog",z["a"]),re.component("Fieldset",K["a"]),re.component("InputMask",Q["a"]),re.component("InputNumber",G["a"]),re.component("InputText",X["a"]),re.component("ProgressSpinner",Y["a"]),re.component("Toast",Z["a"]),re.component("Toolbar",ee["a"]),re.mount("#app")},f090:function(e,t,r){"use strict";r("244c")}});
//# sourceMappingURL=app.593c4eba.js.map